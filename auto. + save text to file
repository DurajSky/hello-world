import io.github.bonigarcia.wdm.WebDriverManager;
import org.junit.Assert;
import org.junit.Before;
import org.junit.Test;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.PrintWriter;
import java.util.Scanner;

public class cokolwiek2{
    public WebDriver chromedriv;
    public WebDriverWait wait;


    @Before
    public void setUp(){
        WebDriverManager.chromedriver().setup();
        chromedriv = new ChromeDriver();
        wait = new WebDriverWait(chromedriv,15);
    }
    @Test
    public void test1() throws FileNotFoundException {
        chromedriv.get("https://pl.wikipedia.org/wiki/Wikipedia:Strona_g%C5%82%C3%B3wna");
        chromedriv.manage().window().maximize();
        wait.until(ExpectedConditions.visibilityOfElementLocated(By.id("searchInput"))).sendKeys("Iron Maiden");
        wait.until(ExpectedConditions.visibilityOfElementLocated(By.id("searchButton"))).click();

        WebElement pole = chromedriv.findElement(By.xpath("/html/body/div[3]/div[3]/div[4]/div/p[2]"));
        System.out.println(pole.getText());

        WebElement logo = chromedriv.findElement(By.xpath("/html/body/div[3]/div[3]/div[4]/div/table[2]/tbody/tr[1]/td/table/tbody/tr/td/span/a/img"));
        System.out.println(logo.getAttribute("src"));

        PrintWriter zapis = new PrintWriter("C:\\Users\\home\\Desktop\\plik.txt");
        zapis.print(pole.getText()+"  "+logo.getAttribute("src"));
        zapis.close();

        File plik = new File("C:\\Users\\home\\Desktop\\plik.txt");
        Scanner skan = new Scanner(plik);
        String s = skan.nextLine();
        System.out.println(s);

        Assert.assertTrue(pole.getText().contains("W toku"));
        Assert.assertTrue(logo.getAttribute("src").contains("https"));

    }
}
